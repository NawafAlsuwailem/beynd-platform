#!/bin/sh
# Commitizen + Husky hook â€” skip editor completely

# Only run when commit message is empty (normal commits, not amend or merge)
if [ -z "$2" ]; then
  exec < /dev/tty
  npx cz --hook || true

  # If Commitizen wrote a message, finish the commit and abort default editor
  if [ -s "$1" ]; then
    git commit -F "$1" --no-verify
    exit 1
  fi
fi
